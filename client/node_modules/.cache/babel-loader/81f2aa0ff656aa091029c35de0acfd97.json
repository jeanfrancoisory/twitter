{"ast":null,"code":"import _toConsumableArray from \"/home/jean-francois/Documents/Web_Test/NRT/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/home/jean-francois/Documents/Web_Test/NRT/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/jean-francois/Documents/Web_Test/NRT/client/src/JS/File.js\";\nimport React from \"react\";\nimport \"../CSS/File.css\";\nimport { Link } from \"react-router-dom\";\nimport { useRef } from 'react';\nimport Tweet from \"./Tweet\";\nimport axios from 'axios';\n\nfunction File(_ref) {\n  var _this = this;\n\n  var email = _ref.email,\n      firstName = _ref.firstName,\n      lastName = _ref.lastName;\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      tweetList = _React$useState2[0],\n      setTweetList = _React$useState2[1];\n\n  var tweet = useRef(null);\n  React.useEffect(function () {\n    fetch(\"/getTweets\").then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      return setTweetList(data);\n    });\n  }, []);\n\n  var sendTweet = function sendTweet(event) {\n    event.preventDefault();\n    console.log(tweetList);\n    setTweetList([].concat(_toConsumableArray(tweetList), [{\n      firstName: firstName,\n      lastName: lastName,\n      content: tweet.current.value,\n      id: tweetList.length + 1\n    }]));\n    axios.post('/postTweet', {\n      firstName: firstName,\n      lastName: lastName,\n      content: tweet.current.value,\n      id: tweetList.length\n    }).then(function (response) {\n      console.log(response.data.message);\n    }).catch(function (err) {\n      console.error(err);\n    });\n    event.target.reset();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"File\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"welcome\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: {\n      pathname: '/accueil',\n      state: {\n        email: email,\n        firstName: firstName,\n        lastName: lastName\n      }\n    },\n    className: \"link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 33\n    }\n  }, \"Accueil\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profil\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }, firstName), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  }, lastName)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"textBox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: sendTweet,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"Quoi de neuf ?\",\n    ref: tweet,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  }, \"Tweeter\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tweetList\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, tweetList.map(function (e) {\n    return /*#__PURE__*/React.createElement(Tweet, {\n      key: e.id,\n      content: e.content,\n      firstName: e.firstName,\n      lastName: e.lastName,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    });\n  })));\n}\n\nexport default File;","map":{"version":3,"names":["React","Link","useRef","Tweet","axios","File","email","firstName","lastName","useState","tweetList","setTweetList","tweet","useEffect","fetch","then","res","json","data","sendTweet","event","preventDefault","console","log","content","current","value","id","length","post","response","message","catch","err","error","target","reset","pathname","state","map","e"],"sources":["/home/jean-francois/Documents/Web_Test/NRT/client/src/JS/File.js"],"sourcesContent":["import React from \"react\";\nimport \"../CSS/File.css\";\nimport { Link } from \"react-router-dom\";\nimport {useRef} from 'react';\nimport Tweet from \"./Tweet\";\nimport axios from 'axios';\n\nfunction File({email, firstName, lastName}) {\n    const [tweetList, setTweetList] = React.useState([]);\n    const tweet = useRef(null);\n\n    React.useEffect(() => {\n        fetch(\"/getTweets\")\n          .then((res) => res.json())\n          .then((data) => setTweetList(data));\n      }, []);\n\n    const sendTweet = event => {\n        event.preventDefault();\n        console.log(tweetList)\n        setTweetList([...tweetList, {firstName: firstName, lastName: lastName, content: tweet.current.value, id: tweetList.length+1}]);\n        axios\n            .post('/postTweet', {firstName: firstName, lastName: lastName, content: tweet.current.value, id: tweetList.length})\n            .then((response) => {\n                console.log(response.data.message);\n            })\n            .catch(err => {\n                console.error(err);\n              });\n        event.target.reset();\n    }\n\n    return <div className=\"File\">\n        <div className=\"welcome\">\n            <Link to={{\n                pathname: '/accueil',\n                state: {\n                    email: email,\n                    firstName: firstName,\n                    lastName: lastName\n                }\n            }} className=\"link\"><p>Accueil</p></Link>\n        </div>\n        <div className=\"top\">\n            <div className=\"profil\">\n                <p>{firstName}</p>\n                <p>{lastName}</p>\n            </div>\n            <div className=\"textBox\">\n                <form onSubmit={sendTweet}>\n                    <input placeholder=\"Quoi de neuf ?\" ref={tweet}></input>\n                    <button type=\"submit\" className=\"button\" >Tweeter</button>\n                </form>\n            </div>\n        </div>\n        <div className=\"tweetList\">\n            {tweetList.map((e) => (\n                <Tweet key={e.id} content={e.content} firstName={e.firstName} lastName={e.lastName}></Tweet>\n            ))}\n        </div>\n    </div>;\n}\nexport default File;"],"mappings":"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"},"metadata":{},"sourceType":"module"}