{"ast":null,"code":"import _slicedToArray from \"/home/jean-francois/Documents/Web_Test/NRT/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/jean-francois/Documents/Web_Test/NRT/client/src/JS/Tweet.js\";\nimport React, { useState } from \"react\";\nimport \"../CSS/Tweet.css\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faHeart, faRetweet, faComment, faShare, faEllipsis } from '@fortawesome/free-solid-svg-icons';\nimport axios from 'axios';\nimport PopUpTweet from '../JS/PopUpTweet';\nimport Cookies from 'js-cookie';\n\nfunction Tweet(_ref) {\n  var content = _ref.content,\n      firstName = _ref.firstName,\n      lastName = _ref.lastName,\n      _id = _ref._id,\n      userID = _ref.userID,\n      date = _ref.date,\n      refreshTweetList = _ref.refreshTweetList,\n      liked = _ref.liked;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      popUpOn = _useState2[0],\n      setPopUpOn = _useState2[1];\n\n  var _useState3 = useState(liked),\n      _useState4 = _slicedToArray(_useState3, 2),\n      tweetLiked = _useState4[0],\n      setTweetLiked = _useState4[1];\n\n  var currentUserID = Cookies.get('userID');\n  var token = Cookies.get('token');\n\n  function handleOpenPopUp() {\n    setPopUpOn(!popUpOn);\n  }\n\n  function onClickLike() {\n    tweetLiked ? axios.delete(\"/tweets/deleteLikeTweet/\".concat(currentUserID, \"/\").concat(_id), {\n      headers: {\n        authorization: 'Bearer ' + token\n      }\n    }).then(function (response) {\n      console.log(response.data.message);\n    }).catch(function (err) {\n      console.error(err);\n    }) : axios.post(\"/tweets/postLikeTweet\", {\n      userID: currentUserID,\n      tweetID: _id\n    }, {\n      headers: {\n        authorization: 'Bearer ' + token\n      }\n    }).then(function (response) {\n      console.log(response.data.message);\n    }).catch(function (err) {\n      console.error(err);\n    });\n    setTweetLiked(!tweetLiked);\n  }\n\n  function supprTweet() {\n    if (userID === currentUserID) {\n      axios.delete(\"/tweets/deleteUserTweet/\".concat(currentUserID, \"/\").concat(_id), {\n        headers: {\n          authorization: 'Bearer ' + token\n        }\n      }).then(function (response) {\n        console.log(response.data.message);\n        refreshTweetList(_id);\n      }).catch(function (err) {\n        console.error(err);\n      });\n    } else {\n      console.log('NOt your tweet');\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Tweet\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profil-head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"name-date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, firstName, \" \", lastName), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"datePost\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, date)), /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faEllipsis,\n    id: \"menuTweet\",\n    onClick: function onClick() {\n      return handleOpenPopUp();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }), popUpOn && /*#__PURE__*/React.createElement(PopUpTweet, {\n    closePopUp: handleOpenPopUp,\n    supprTweet: supprTweet,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, content), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"LRT\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"LRTParts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faComment,\n    className: \"iconsLRT Response\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"LRTParts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faHeart,\n    className: \"iconsLRT Like\",\n    style: {\n      color: !tweetLiked ? 'var(--border-color)' : 'red'\n    },\n    onClick: function onClick() {\n      return onClickLike();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"LRTParts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faRetweet,\n    className: \"iconsLRT Retweet\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"LRTParts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faShare,\n    className: \"iconsLRT Share\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  })))));\n}\n\nexport default Tweet;","map":{"version":3,"names":["React","useState","FontAwesomeIcon","faHeart","faRetweet","faComment","faShare","faEllipsis","axios","PopUpTweet","Cookies","Tweet","content","firstName","lastName","_id","userID","date","refreshTweetList","liked","popUpOn","setPopUpOn","tweetLiked","setTweetLiked","currentUserID","get","token","handleOpenPopUp","onClickLike","delete","headers","authorization","then","response","console","log","data","message","catch","err","error","post","tweetID","supprTweet","color"],"sources":["/home/jean-francois/Documents/Web_Test/NRT/client/src/JS/Tweet.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"../CSS/Tweet.css\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faHeart, faRetweet, faComment, faShare, faEllipsis } from '@fortawesome/free-solid-svg-icons';\nimport axios from 'axios';\nimport PopUpTweet from '../JS/PopUpTweet'\nimport Cookies from 'js-cookie';\n\nfunction Tweet({content, firstName, lastName, _id, userID, date, refreshTweetList, liked}) {\n\n    const [popUpOn, setPopUpOn] = useState(false);\n    const [tweetLiked, setTweetLiked] = useState(liked);\n    const currentUserID = Cookies.get('userID');\n    const token = Cookies.get('token');\n\n    function handleOpenPopUp() {\n        setPopUpOn(!popUpOn);   \n    }\n\n    function onClickLike() {\n        tweetLiked ?\n        axios.delete(`/tweets/deleteLikeTweet/${currentUserID}/${_id}`, { headers: {authorization: 'Bearer ' + token}})\n            .then((response) => {\n                console.log(response.data.message);\n            })\n            .catch(err => {\n                console.error(err);\n            }) :\n        axios.post(\"/tweets/postLikeTweet\", {userID: currentUserID, tweetID: _id}, { headers: {authorization: 'Bearer ' + token}})\n            .then((response) => {\n                console.log(response.data.message);\n            })\n            .catch(err => {\n                console.error(err);\n            });\n        setTweetLiked(!tweetLiked);\n    }\n\n    function supprTweet() {\n        if (userID === currentUserID) {\n            axios.delete(`/tweets/deleteUserTweet/${currentUserID}/${_id}`, { headers: {authorization: 'Bearer ' + token}})\n                .then((response) => {\n                    console.log(response.data.message);\n                    refreshTweetList(_id);\n                })\n                .catch(err => {\n                    console.error(err);\n                });\n        } else {\n            console.log('NOt your tweet')\n        }\n    }\n\n    return <div className=\"Tweet\">\n        <div className=\"profil-head\">\n            <div id=\"name-date\">\n                <p>{firstName} {lastName}</p>\n                \n                <div id=\"datePost\">{date}</div>\n            </div>\n            <FontAwesomeIcon icon={faEllipsis} id=\"menuTweet\" onClick={() => handleOpenPopUp()}/>\n            {popUpOn && <PopUpTweet closePopUp={handleOpenPopUp} supprTweet={supprTweet}></PopUpTweet>}\n        </div>\n        <div className=\"content\">\n            <p>{content}</p>\n            <div className=\"LRT\">\n                <div className=\"LRTParts\">\n                    <FontAwesomeIcon icon={faComment} className=\"iconsLRT Response\"/>\n                </div>\n                <div className=\"LRTParts\">\n                    <FontAwesomeIcon icon={faHeart} className=\"iconsLRT Like\" \n                    style={{color: !tweetLiked? 'var(--border-color)' : 'red'}} onClick={() => onClickLike()}/>\n                </div>\n                <div className=\"LRTParts\">\n                    <FontAwesomeIcon icon={faRetweet} className=\"iconsLRT Retweet\"/>\n                </div>\n                <div className=\"LRTParts\">\n                    <FontAwesomeIcon icon={faShare}  className=\"iconsLRT Share\"/>\n                </div>\n            </div>\n        </div>\n        \n    </div>;\n}\nexport default Tweet;"],"mappings":"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"},"metadata":{},"sourceType":"module"}