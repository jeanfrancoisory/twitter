{"ast":null,"code":"import _slicedToArray from \"/home/jean-francois/Documents/Web_Test/NRT/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/jean-francois/Documents/Web_Test/NRT/client/src/JS/File.js\";\nimport React, { useState } from \"react\";\nimport \"../CSS/File.css\";\nimport { useRef } from 'react';\nimport TweetList from \"./TweetList\";\n\nfunction File(_ref) {\n  var email = _ref.email,\n      firstName = _ref.firstName,\n      lastName = _ref.lastName,\n      _id = _ref._id;\n  // const [tweetList, setTweetList] = React.useState([]);\n  var tweet = useRef(null);\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      tweetValue = _useState2[0],\n      setTweetValue = _useState2[1]; // const token = Cookies.get('token');\n  // function timeConverter(time) {\n  //     const date = Date.now() - (time);\n  //     const min = Math.floor(date/(60*1000));\n  //     const hour = Math.floor(date/(60*60*1000));\n  //     const day = Math.floor(date/(24*60*60*1000));\n  //     if(date < (60*1000)) {\n  //         return 'Just now';\n  //     } else {\n  //         if(!hour) {\n  //             return min+' min';\n  //         } else {\n  //             if(!day) {\n  //                 return hour+' h '+(min-hour*60)+' min';\n  //             } else {\n  //                 return day+' j '+(hour-day*24)+' h '+(min-hour*60)+' min';\n  //             }\n  //         }\n  //     }\n  // }\n  // React.useEffect(() => {\n  //     const tweetsID = []\n  //     axios.get(`/tweets/getUserLikes/${_id}`, { headers: {authorization: 'Bearer ' + token}})\n  //         .then((response) => {\n  //             if(!response.data.message) {\n  //                     response.data.tweets.forEach((e) => {\n  //                         tweetsID.push(e._id);\n  //                     });\n  //             }\n  //         });\n  //     fetch(\"/tweets/getTweets\")\n  //       .then((res) => res.json())\n  //       .then((data) => {\n  //         const tweets = [];\n  //         data.forEach((element) => {\n  //             element.tweets.forEach((e) => {\n  //                 const t = {\n  //                     _id: e._id,\n  //                     content: e.content,\n  //                     firstName: element.author.firstName,\n  //                     lastName: element.author.lastName,\n  //                     date: timeConverter(e.date),\n  //                     userID: element.author._id,\n  //                     liked: tweetsID.includes(e._id) ? true : false\n  //                 }\n  //                 tweets.push(t);\n  //             });\n  //         });\n  //         setTweetList(tweets);\n  //       });\n  //   }, []);\n\n\n  var sendTweet = function sendTweet(event) {\n    event.preventDefault();\n    tweet.current.value !== '' && setTweetValue(tweet.current.value);\n    event.target.reset();\n  }; // function refreshTweetList(tweetID) {\n  //     setTweetList(tweetList.filter(e => e['_id']!==tweetID));\n  // }\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"File\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"welcome link\",\n    onClick: function onClick() {\n      return window.location.reload();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, \"Accueil\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profil\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, firstName), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, lastName)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"textBox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: sendTweet,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"Quoi de neuf ?\",\n    ref: tweet,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 21\n    }\n  }, \"Tweeter\")))), /*#__PURE__*/React.createElement(TweetList, {\n    email: email,\n    _id: _id,\n    tweetValue: tweetValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }));\n}\n\nexport default File;","map":{"version":3,"names":["React","useState","useRef","TweetList","File","email","firstName","lastName","_id","tweet","tweetValue","setTweetValue","sendTweet","event","preventDefault","current","value","target","reset","window","location","reload"],"sources":["/home/jean-francois/Documents/Web_Test/NRT/client/src/JS/File.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"../CSS/File.css\";\nimport {useRef} from 'react';\nimport TweetList from \"./TweetList\";\n\nfunction File({email, firstName, lastName, _id}) {\n    // const [tweetList, setTweetList] = React.useState([]);\n    const tweet = useRef(null);\n    const [tweetValue, setTweetValue] = useState('');\n    // const token = Cookies.get('token');\n\n    // function timeConverter(time) {\n    //     const date = Date.now() - (time);\n    //     const min = Math.floor(date/(60*1000));\n    //     const hour = Math.floor(date/(60*60*1000));\n    //     const day = Math.floor(date/(24*60*60*1000));\n    //     if(date < (60*1000)) {\n    //         return 'Just now';\n    //     } else {\n    //         if(!hour) {\n    //             return min+' min';\n    //         } else {\n    //             if(!day) {\n    //                 return hour+' h '+(min-hour*60)+' min';\n    //             } else {\n    //                 return day+' j '+(hour-day*24)+' h '+(min-hour*60)+' min';\n    //             }\n    //         }\n    //     }\n    // }\n\n    // React.useEffect(() => {\n    //     const tweetsID = []\n    //     axios.get(`/tweets/getUserLikes/${_id}`, { headers: {authorization: 'Bearer ' + token}})\n    //         .then((response) => {\n    //             if(!response.data.message) {\n    //                     response.data.tweets.forEach((e) => {\n    //                         tweetsID.push(e._id);\n    //                     });\n    //             }\n    //         });\n    //     fetch(\"/tweets/getTweets\")\n    //       .then((res) => res.json())\n    //       .then((data) => {\n    //         const tweets = [];\n    //         data.forEach((element) => {\n    //             element.tweets.forEach((e) => {\n    //                 const t = {\n    //                     _id: e._id,\n    //                     content: e.content,\n    //                     firstName: element.author.firstName,\n    //                     lastName: element.author.lastName,\n    //                     date: timeConverter(e.date),\n    //                     userID: element.author._id,\n    //                     liked: tweetsID.includes(e._id) ? true : false\n    //                 }\n    //                 tweets.push(t);\n    //             });\n    //         });\n    //         setTweetList(tweets);\n    //       });\n    //   }, []);\n\n    const sendTweet = event => {\n        event.preventDefault();\n        tweet.current.value !== '' &&\n        setTweetValue(tweet.current.value);\n        event.target.reset();\n    }\n\n    // function refreshTweetList(tweetID) {\n    //     setTweetList(tweetList.filter(e => e['_id']!==tweetID));\n    // }\n\n    return <div className=\"File\">\n        <div className=\"welcome link\" onClick={() => window.location.reload()}>\n            <p>Accueil</p>\n        </div>\n        <div className=\"top\">\n            <div className=\"profil\">\n                <p>{firstName}</p>\n                <p>{lastName}</p>\n            </div>\n            <div className=\"textBox\">\n                <form onSubmit={sendTweet}>\n                    <input placeholder=\"Quoi de neuf ?\" ref={tweet}></input>\n                    <button type=\"submit\" className=\"button\" >Tweeter</button>\n                </form>\n            </div>\n        </div>\n        <TweetList email={email} _id={_id} tweetValue={tweetValue}></TweetList>\n    </div>;\n}\nexport default File;"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAO,iBAAP;AACA,SAAQC,MAAR,QAAqB,OAArB;AACA,OAAOC,SAAP,MAAsB,aAAtB;;AAEA,SAASC,IAAT,OAAiD;EAAA,IAAlCC,KAAkC,QAAlCA,KAAkC;EAAA,IAA3BC,SAA2B,QAA3BA,SAA2B;EAAA,IAAhBC,QAAgB,QAAhBA,QAAgB;EAAA,IAANC,GAAM,QAANA,GAAM;EAC7C;EACA,IAAMC,KAAK,GAAGP,MAAM,CAAC,IAAD,CAApB;;EAF6C,gBAGTD,QAAQ,CAAC,EAAD,CAHC;EAAA;EAAA,IAGtCS,UAHsC;EAAA,IAG1BC,aAH0B,kBAI7C;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;;EAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAAAC,KAAK,EAAI;IACvBA,KAAK,CAACC,cAAN;IACAL,KAAK,CAACM,OAAN,CAAcC,KAAd,KAAwB,EAAxB,IACAL,aAAa,CAACF,KAAK,CAACM,OAAN,CAAcC,KAAf,CADb;IAEAH,KAAK,CAACI,MAAN,CAAaC,KAAb;EACH,CALD,CA1D6C,CAiE7C;EACA;EACA;;;EAEA,oBAAO;IAAK,SAAS,EAAC,MAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACH;IAAK,SAAS,EAAC,cAAf;IAA8B,OAAO,EAAE;MAAA,OAAMC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,EAAN;IAAA,CAAvC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,aADJ,CADG,eAIH;IAAK,SAAS,EAAC,KAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAK,SAAS,EAAC,QAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAIf,SAAJ,CADJ,eAEI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAIC,QAAJ,CAFJ,CADJ,eAKI;IAAK,SAAS,EAAC,SAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAM,QAAQ,EAAEK,SAAhB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAO,WAAW,EAAC,gBAAnB;IAAoC,GAAG,EAAEH,KAAzC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADJ,eAEI;IAAQ,IAAI,EAAC,QAAb;IAAsB,SAAS,EAAC,QAAhC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,aAFJ,CADJ,CALJ,CAJG,eAgBH,oBAAC,SAAD;IAAW,KAAK,EAAEJ,KAAlB;IAAyB,GAAG,EAAEG,GAA9B;IAAmC,UAAU,EAAEE,UAA/C;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAhBG,CAAP;AAkBH;;AACD,eAAeN,IAAf"},"metadata":{},"sourceType":"module"}